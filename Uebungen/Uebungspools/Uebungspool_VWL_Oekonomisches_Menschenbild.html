<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VWL Ãœbungspool: Ã–konomisches Menschenbild | SF GYM2</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400&family=DM+Mono:wght@400;500&display=swap');
:root{
--c-bg:#f0f2f5;--c-surface:#fff;--c-primary:#1a365d;--c-primary-light:#2a5298;
--c-accent:#e8a838;--c-accent-light:#fef3c7;--c-success:#16a34a;--c-success-bg:#f0fdf4;
--c-error:#dc2626;--c-error-bg:#fef2f2;--c-info:#2563eb;--c-info-bg:#eff6ff;
--c-text:#1e293b;--c-text-soft:#64748b;--c-border:#e2e8f0;--radius:10px;
--shadow-sm:0 1px 3px rgba(0,0,0,.06);--shadow-md:0 4px 12px rgba(0,0,0,.08);
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'DM Sans',system-ui,sans-serif;background:var(--c-bg);color:var(--c-text);line-height:1.6;min-height:100vh}
.app-header{background:linear-gradient(135deg,var(--c-primary),var(--c-primary-light));color:#fff;padding:20px 24px;position:sticky;top:0;z-index:100;box-shadow:0 2px 12px rgba(0,0,0,.15)}
.app-header h1{font-size:1.25rem;font-weight:700;letter-spacing:-.02em}
.app-header .meta{font-size:.8rem;opacity:.75;margin-top:2px}
.container{max-width:720px;margin:0 auto;padding:20px 16px 100px}
.screen{display:none}.screen.active{display:block}
.card{background:var(--c-surface);border-radius:var(--radius);padding:24px;margin-bottom:16px;box-shadow:var(--shadow-sm);border:1px solid var(--c-border)}
.card h2{font-size:1.05rem;font-weight:700;margin-bottom:14px;color:var(--c-primary)}
.mode-cards{display:grid;grid-template-columns:1fr 1fr;gap:12px;margin-bottom:8px}
.mode-card{border:2px solid var(--c-border);border-radius:var(--radius);padding:16px;cursor:pointer;text-align:center;transition:.2s}
.mode-card:hover{border-color:var(--c-primary-light);background:#f8fafc}
.mode-card.active{border-color:var(--c-primary);background:var(--c-info-bg)}
.mode-card .mode-icon{font-size:1.8rem;margin-bottom:6px}
.mode-card .mode-title{font-weight:700;font-size:.95rem}
.mode-card .mode-desc{font-size:.78rem;color:var(--c-text-soft);margin-top:4px}
.chips{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:12px}
.chip{display:inline-flex;align-items:center;padding:6px 14px;border-radius:20px;font-size:.82rem;font-weight:500;cursor:pointer;border:2px solid var(--c-border);background:#fff;transition:.15s;user-select:none}
.chip:hover{border-color:var(--c-primary-light)}
.chip.active{background:var(--c-primary);color:#fff;border-color:var(--c-primary)}
.filter-count{font-family:'DM Mono',monospace;font-size:.95rem;font-weight:600;color:var(--c-primary);margin-top:8px}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:12px 24px;border-radius:var(--radius);font-family:inherit;font-size:.95rem;font-weight:600;cursor:pointer;border:none;transition:.2s}
.btn-primary{background:var(--c-primary);color:#fff}.btn-primary:hover{background:var(--c-primary-light)}
.btn-primary:disabled{opacity:.4;cursor:not-allowed}
.btn-accent{background:var(--c-accent);color:var(--c-primary)}.btn-accent:hover{filter:brightness(1.05)}
.btn-outline{background:transparent;border:2px solid var(--c-border);color:var(--c-text)}.btn-outline:hover{border-color:var(--c-primary);color:var(--c-primary)}
.btn-block{width:100%;justify-content:center}
.progress-bar-wrap{background:var(--c-border);border-radius:20px;height:8px;margin:12px 0;overflow:hidden}
.progress-bar-fill{height:100%;background:var(--c-accent);border-radius:20px;transition:width .4s ease}
.quiz-meta{display:flex;justify-content:space-between;align-items:center;font-size:.85rem;color:var(--c-text-soft);margin-bottom:4px}
.quiz-meta .score{font-family:'DM Mono',monospace;font-weight:600;color:var(--c-primary)}
.q-badges{display:flex;gap:6px;flex-wrap:wrap;margin-bottom:12px}
.badge{font-size:.7rem;font-weight:600;padding:3px 10px;border-radius:12px;text-transform:uppercase;letter-spacing:.03em}
.badge-topic{background:var(--c-info-bg);color:var(--c-info)}
.badge-diff1{background:#f0fdf4;color:#16a34a}.badge-diff2{background:#fef3c7;color:#b45309}.badge-diff3{background:#fef2f2;color:#dc2626}
.badge-tax{background:#f3e8ff;color:#7c3aed}
.badge-type{background:#f1f5f9;color:#475569}
.q-text{font-size:1rem;font-weight:500;margin-bottom:18px;line-height:1.65}
.mc-options{display:flex;flex-direction:column;gap:10px}
.mc-opt{display:flex;align-items:flex-start;gap:12px;padding:14px 16px;border:2px solid var(--c-border);border-radius:var(--radius);cursor:pointer;transition:.15s;background:#fff}
.mc-opt:hover{border-color:var(--c-primary-light);background:#f8fafc}
.mc-opt.selected{border-color:var(--c-info);background:var(--c-info-bg)}
.mc-opt.correct{border-color:var(--c-success);background:var(--c-success-bg)}
.mc-opt.wrong{border-color:var(--c-error);background:var(--c-error-bg)}
.mc-opt .opt-letter{font-family:'DM Mono',monospace;font-weight:700;font-size:.85rem;min-width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--c-border);color:var(--c-text-soft);flex-shrink:0}
.mc-opt.selected .opt-letter{background:var(--c-info);color:#fff}
.mc-opt.correct .opt-letter{background:var(--c-success);color:#fff}
.mc-opt.wrong .opt-letter{background:var(--c-error);color:#fff}
.mc-opt .opt-text{font-size:.92rem;line-height:1.5}
.tf-btns{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.tf-btn{padding:16px;border:2px solid var(--c-border);border-radius:var(--radius);text-align:center;font-weight:600;font-size:1rem;cursor:pointer;transition:.15s;background:#fff}
.tf-btn:hover{border-color:var(--c-primary-light)}.tf-btn.selected{border-color:var(--c-info);background:var(--c-info-bg)}
.tf-btn.correct{border-color:var(--c-success);background:var(--c-success-bg)}
.tf-btn.wrong{border-color:var(--c-error);background:var(--c-error-bg)}
.fill-input{border:none;border-bottom:2px solid var(--c-primary);background:var(--c-info-bg);padding:4px 8px;font-family:inherit;font-size:.92rem;font-weight:500;min-width:120px;outline:none;border-radius:4px 4px 0 0;transition:.2s}
.fill-input:focus{border-color:var(--c-accent);background:var(--c-accent-light)}
.fill-input.correct{border-color:var(--c-success);background:var(--c-success-bg)}
.fill-input.wrong{border-color:var(--c-error);background:var(--c-error-bg)}
.calc-rows{display:flex;flex-direction:column;gap:10px}
.calc-row{display:flex;align-items:center;gap:10px;flex-wrap:wrap}
.calc-row label{font-size:.9rem;flex:1;min-width:150px}
.calc-row input{width:100px;padding:8px 10px;border:2px solid var(--c-border);border-radius:6px;font-family:'DM Mono',monospace;font-size:.92rem;text-align:right;outline:none}
.calc-row input:focus{border-color:var(--c-primary)}
.calc-row .unit{font-size:.85rem;color:var(--c-text-soft);min-width:30px}
.calc-row input.correct{border-color:var(--c-success);background:var(--c-success-bg)}
.calc-row input.wrong{border-color:var(--c-error);background:var(--c-error-bg)}
.sort-pool{display:flex;flex-wrap:wrap;gap:8px;min-height:48px;padding:12px;background:var(--c-bg);border-radius:var(--radius);margin-bottom:12px}
.sort-item{padding:8px 14px;border-radius:8px;font-size:.85rem;font-weight:500;cursor:pointer;transition:.2s;border:2px solid var(--c-border);background:#fff;user-select:none}
.sort-item:hover{border-color:var(--c-primary-light)}.sort-item.picked{border-color:var(--c-info);background:var(--c-info-bg);box-shadow:0 0 0 2px rgba(37,99,235,.2)}
.sort-cats{display:grid;gap:12px;margin-top:8px}
.sort-cat{border:2px dashed var(--c-border);border-radius:var(--radius);padding:12px;min-height:60px;transition:.2s}
.sort-cat:hover{border-color:var(--c-primary-light)}
.sort-cat.active{border-color:var(--c-info);background:var(--c-info-bg)}
.sort-cat-title{font-weight:700;font-size:.85rem;color:var(--c-primary);margin-bottom:8px}
.sort-cat-items{display:flex;flex-wrap:wrap;gap:6px}
.sort-cat-item{padding:6px 12px;border-radius:6px;font-size:.82rem;font-weight:500;cursor:pointer;background:var(--c-primary);color:#fff;transition:.15s}
.sort-cat-item:hover{opacity:.85}
.sort-cat-item.correct-item{background:var(--c-success)}.sort-cat-item.wrong-item{background:var(--c-error)}
.feedback{margin-top:16px;padding:16px;border-radius:var(--radius);font-size:.9rem;line-height:1.6;display:none}
.feedback.show{display:block}
.feedback.correct{background:var(--c-success-bg);border-left:4px solid var(--c-success)}
.feedback.wrong{background:var(--c-error-bg);border-left:4px solid var(--c-error)}
.feedback-title{font-weight:700;margin-bottom:4px}
.quiz-actions{display:flex;gap:10px;margin-top:18px;flex-wrap:wrap}
.result-score{text-align:center;padding:24px;font-family:'DM Mono',monospace}
.result-score .big{font-size:2.8rem;font-weight:700;color:var(--c-primary)}
.result-score .pct{font-size:1.4rem;color:var(--c-text-soft)}
.topic-results{display:flex;flex-direction:column;gap:8px;margin-top:12px}
.topic-row{display:flex;align-items:center;gap:10px;padding:10px 14px;border-radius:8px;background:var(--c-bg)}
.topic-row .topic-name{flex:1;font-size:.88rem;font-weight:500}
.topic-row .topic-score{font-family:'DM Mono',monospace;font-weight:600;font-size:.85rem}
.topic-row .topic-bar{width:60px;height:6px;background:var(--c-border);border-radius:3px;overflow:hidden}
.topic-row .topic-bar-fill{height:100%;border-radius:3px}
.tg{background:var(--c-success)}.ty{background:var(--c-accent)}.tr{background:var(--c-error)}
.wrong-list{margin-top:12px}
.wrong-item{padding:14px;border-radius:var(--radius);margin-bottom:10px;background:var(--c-bg);border-left:3px solid var(--c-error)}
.wrong-item .wq{font-weight:600;font-size:.9rem;margin-bottom:4px}
.wrong-item .wa{font-size:.85rem;color:var(--c-text-soft);line-height:1.5}
@media(prefers-color-scheme:dark){
:root{
--c-bg:#0f1117;--c-surface:#1a1d27;--c-primary:#5b8def;--c-primary-light:#7ba4f7;
--c-accent:#e8a838;--c-accent-light:#3d2e10;--c-success:#22c55e;--c-success-bg:#0a2618;
--c-error:#ef4444;--c-error-bg:#2a0f0f;--c-info:#60a5fa;--c-info-bg:#0f1d3a;
--c-text:#e2e8f0;--c-text-soft:#94a3b8;--c-border:#2d3348;
--shadow-sm:0 1px 3px rgba(0,0,0,.3);--shadow-md:0 4px 12px rgba(0,0,0,.4);
}
.app-header{box-shadow:0 2px 12px rgba(0,0,0,.4)}
.mc-opt,.tf-btn,.sort-item{background:var(--c-surface)}
.mc-opt:hover,.mode-card:hover{background:#1f2333}
.mc-opt .opt-letter{background:var(--c-border);color:var(--c-text-soft)}
.chip{background:var(--c-surface)}
.badge-diff1{background:#0a2618;color:#22c55e}.badge-diff2{background:#3d2e10;color:#e8a838}.badge-diff3{background:#2a0f0f;color:#ef4444}
.badge-tax{background:#1a0f2e;color:#a78bfa}
.badge-type{background:#1a1d27;color:#94a3b8}
.topic-row{background:var(--c-surface)}
.wrong-item{background:var(--c-surface)}
.calc-row input{background:var(--c-surface);color:var(--c-text);border-color:var(--c-border)}
}
@media print{.app-header,.quiz-actions,.btn,#startScreen{display:none!important}.screen{display:block!important}.card{break-inside:avoid;box-shadow:none;border:1px solid #ccc}}
@media(max-width:500px){.mode-cards{grid-template-columns:1fr}.container{padding:12px 10px 80px}.card{padding:18px}.tf-btns{grid-template-columns:1fr}}
</style>
</head>
<body>
<header class="app-header">
<h1>Ãœbungspool: Ã–konomisches Menschenbild</h1>
<div class="meta">SF GYM2 Â· Gymnasium Hofwil Â· Individuell Ã¼ben</div>
</header>
<div class="container">

<!-- â•â•â• Startbildschirm â•â•â• -->
<div id="startScreen" class="screen active">
<div class="card">
<h2>ğŸ“‹ Modus wÃ¤hlen</h2>
<div class="mode-cards">
<div class="mode-card" data-mode="focus" onclick="setMode('focus')">
<div class="mode-icon">ğŸ¯</div>
<div class="mode-title">Fokus</div>
<div class="mode-desc">Gezielt ein Thema Ã¼ben, nach Schwierigkeit sortiert</div>
</div>
<div class="mode-card" data-mode="mix" onclick="setMode('mix')">
<div class="mode-icon">ğŸ”€</div>
<div class="mode-title">Mix</div>
<div class="mode-desc">ZufÃ¤llige Auswahl quer durch alle Themen</div>
</div>
</div>
</div>

<div class="card">
<h2>ğŸ“š Unterthema</h2>
<div class="chips" id="topicChips"></div>
</div>
<div class="card">
<h2>ğŸ“Š Schwierigkeit</h2>
<div class="chips" id="diffChips"></div>
</div>
<div class="card">
<h2>âœï¸ Fragetyp</h2>
<div class="chips" id="typeChips"></div>
</div>
<div class="card" style="text-align:center">
<div class="filter-count" id="filterCount">0 Aufgaben verfÃ¼gbar</div>
<button class="btn btn-primary btn-block" id="startBtn" style="margin-top:14px" onclick="startQuiz()" disabled>Ãœbung starten</button>
</div>
</div>

<!-- â•â•â• Quiz-Bildschirm â•â•â• -->
<div id="quizScreen" class="screen">
<div class="card">
<div class="quiz-meta">
<span id="qProgress">1 / 10</span>
<span class="score" id="qScore">0 Punkte</span>
</div>
<div class="progress-bar-wrap"><div class="progress-bar-fill" id="progressBar" style="width:0%"></div></div>
</div>
<div class="card" id="questionCard"></div>
<div class="quiz-actions" id="quizActions">
<button class="btn btn-accent" id="nextBtn" onclick="nextQuestion()" style="display:none">NÃ¤chste Aufgabe â†’</button>
<button class="btn btn-outline" onclick="endQuiz()">Ãœbung beenden</button>
</div>
</div>

<!-- â•â•â• Auswertung â•â•â• -->
<div id="resultScreen" class="screen">
<div class="card">
<div class="result-score">
<div class="big" id="resPts">0/0</div>
<div class="pct" id="resPct">0%</div>
</div>
</div>
<div class="card"><h2>ğŸ“Š Nach Unterthema</h2><div id="topicResults" class="topic-results"></div></div>
<div class="card" id="wrongCard"><h2>âŒ Zum Repetieren</h2><div id="wrongList" class="wrong-list"></div></div>
<div class="card" style="text-align:center">
<button class="btn btn-primary" onclick="exportResults()" style="margin-right:10px">ğŸ“„ Als PDF speichern</button>
<button class="btn btn-outline" onclick="resetApp()">Neue Ãœbung starten</button>
</div>
</div>
</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// THEMENSPEZIFISCHE DATEN
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const TOPICS = {
  homo: {label:"Homo Oeconomicus: Eigenschaften & Modell", short:"Homo Oec."},
  kritik: {label:"Kritik am Homo Oeconomicus", short:"Kritik"},
  anreize: {label:"Anreize und ihre Wirkung", short:"Anreize"},
  spiel: {label:"Spieltheorie & Gefangenendilemma", short:"Spieltheorie"},
  strategie: {label:"Erfolgreiche Strategien (iterierte Spiele)", short:"Strategien"},
  aufgaben: {label:"Aufgaben der Volkswirtschaftslehre", short:"Aufgaben VWL"},
  ziele: {label:"Ziele der Wirtschaftspolitik", short:"Ziele WiPol"}
};

const QUESTIONS = [

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// HOMO OECONOMICUS (h01â€“h10)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{id:"h01", topic:"homo", type:"mc", diff:1, tax:"K1",
 q:"Welche der folgenden Eigenschaften wird dem Homo Oeconomicus zugeschrieben?",
 options:[
   {v:"A", t:"Er handelt stets altruistisch und stellt das Gemeinwohl Ã¼ber den eigenen Nutzen."},
   {v:"B", t:"Er trifft rationale Entscheidungen, um seinen persÃ¶nlichen Nutzen zu maximieren."},
   {v:"C", t:"Er entscheidet immer aus dem BauchgefÃ¼hl heraus."},
   {v:"D", t:"Er orientiert sich ausschliesslich an sozialen Normen seiner Umgebung."}
 ],
 correct:"B",
 explain:"Der Homo Oeconomicus ist ein Modellmensch, der rational handelt, eigennÃ¼tzig ist und seinen persÃ¶nlichen Nutzen maximiert. Er wÃ¤gt Kosten und Nutzen ab und wÃ¤hlt die fÃ¼r ihn beste Option."
},

{id:"h02", topic:"homo", type:"tf", diff:1, tax:"K1",
 q:"Der Homo Oeconomicus ist ein Modell, das das Durchschnittsverhalten von Menschen beschreiben soll â€“ nicht das Verhalten einzelner Personen.",
 correct:true,
 explain:"Richtig. Das Modell abstrahiert von individuellen PersÃ¶nlichkeitsmerkmalen und soll ein Durchschnittsverhalten widerspiegeln. Wie eine Karikatur Ã¼bertreibt es bestimmte Eigenschaften, um wesentliche Muster sichtbar zu machen."
},

{id:"h03", topic:"homo", type:"mc", diff:1, tax:"K2",
 q:"Was versteht man unter Â«OpportunitÃ¤tskostenÂ»?",
 options:[
   {v:"A", t:"Die Kosten, die bei der Produktion eines Gutes anfallen."},
   {v:"B", t:"Den Nutzen der besten nicht gewÃ¤hlten Alternative, auf die man verzichtet."},
   {v:"C", t:"Die Kosten fÃ¼r die Gelegenheit, ein Produkt gÃ¼nstiger einzukaufen."},
   {v:"D", t:"Die versteckten Kosten in einem Kaufvertrag."}
 ],
 correct:"B",
 explain:"OpportunitÃ¤tskosten bezeichnen den Nutzen der besten Alternative, auf die man bei einer Entscheidung verzichtet. Jeder Entscheid hat OpportunitÃ¤tskosten, weil jede Wahl gleichzeitig ein Verzicht auf andere MÃ¶glichkeiten ist. Deshalb gilt: Nichts ist gratis."
},

{id:"h04", topic:"homo", type:"tf", diff:1, tax:"K2",
 q:"EigennÃ¼tziges Handeln bedeutet, dass der Mensch immer nur danach trachtet, anderen zu schaden.",
 correct:false,
 explain:"Falsch. EigennÃ¼tziges Handeln bedeutet lediglich, dass der Mensch sich an seinen eigenen Interessen orientiert. Menschen sind â€“ von Ausnahmen abgesehen â€“ weder Heilige noch Verbrecher. EigennÃ¼tzigkeit schliesst soziale Orientierung nicht aus."
},

{id:"h05", topic:"homo", type:"fill", diff:1, tax:"K1",
 q:"Der Homo Oeconomicus handelt {0}, ist {1} und versucht, seinen {2} zu maximieren.",
 blanks:[
   {answer:"rational", alts:["vernÃ¼nftig","Ã¶konomisch rational"]},
   {answer:"eigennÃ¼tzig", alts:["selbstinteressiert"]},
   {answer:"Nutzen", alts:["persÃ¶nlichen Nutzen","Eigennutzen"]}
 ],
 explain:"Die drei Kerneigenschaften des Homo Oeconomicus sind: rationales Handeln (Kosten-Nutzen-AbwÃ¤gung), EigennÃ¼tzigkeit (Orientierung an eigenen Interessen) und Nutzenmaximierung (Wahl der besten verfÃ¼gbaren Option)."
},

{id:"h06", topic:"homo", type:"mc", diff:2, tax:"K2",
 q:"Warum sagt man: Â«Tut mir leid, ich habe keine ZeitÂ» sei eigentlich eine Aussage Ã¼ber OpportunitÃ¤tskosten?",
 options:[
   {v:"A", t:"Weil man damit sagt, dass die eigene Zeit wertvoller ist als das Treffen."},
   {v:"B", t:"Weil man gar keine freien Stunden im Tag hat."},
   {v:"C", t:"Weil der Nutzen der Alternativen hÃ¶her eingeschÃ¤tzt wird als der Nutzen des Treffens."},
   {v:"D", t:"Weil man grundsÃ¤tzlich ungern neue Termine vereinbart."}
 ],
 correct:"C",
 explain:"Die ehrliche Antwort wÃ¤re: Â«Die OpportunitÃ¤tskosten sind mir zu hoch!Â» Man hat durchaus Zeit, schÃ¤tzt aber den Nutzen anderer AktivitÃ¤ten hÃ¶her ein. Jede Zeitverwendung hat OpportunitÃ¤tskosten â€“ den Verzicht auf die nÃ¤chstbeste Alternative."
},

{id:"h07", topic:"homo", type:"tf", diff:2, tax:"K2",
 q:"Das Ã¶konomische Prinzip besagt, dass man mit mÃ¶glichst viel Mitteln ein Ziel erreichen soll.",
 correct:false,
 explain:"Falsch. Das Ã¶konomische Prinzip besagt das Gegenteil: mit mÃ¶glichst wenig Mitteln ein Ziel erreichen (Minimalprinzip) oder aus gegebenen Mitteln ein Maximum herausholen (Maximalprinzip). Der sparsame Umgang mit knappen Ressourcen ist der Kern des Ã¶konomischen Denkens."
},

{id:"h08", topic:"homo", type:"mc", diff:2, tax:"K3",
 q:"Lisa kann in einer Stunde entweder CHF 30 als Nachhilfelehrerin verdienen oder fÃ¼r eine PrÃ¼fung lernen. Sie entscheidet sich fÃ¼rs Lernen. Was sind die OpportunitÃ¤tskosten ihrer Entscheidung?",
 options:[
   {v:"A", t:"CHF 0, weil Lernen gratis ist."},
   {v:"B", t:"CHF 30 â€“ der entgangene Verdienst aus der Nachhilfe."},
   {v:"C", t:"Die Note, die sie in der PrÃ¼fung erzielt."},
   {v:"D", t:"Die Kosten fÃ¼r die Lernmaterialien."}
 ],
 correct:"B",
 explain:"Die OpportunitÃ¤tskosten sind der Nutzen der besten nicht gewÃ¤hlten Alternative. In diesem Fall verzichtet Lisa auf CHF 30 Verdienst. Das Lernen ist also nicht gratis, auch wenn keine direkten Kosten anfallen."
},

{id:"h09", topic:"homo", type:"sort", diff:2, tax:"K2",
 q:"Ordnen Sie die folgenden Aussagen dem Ã¶konomischen Prinzip zu:",
 categories:["Minimalprinzip","Maximalprinzip"],
 items:[
   {t:"Mit CHF 50 ein mÃ¶glichst gutes Geburtstagsgeschenk kaufen", cat:1},
   {t:"Die gÃ¼nstigste Zugverbindung nach ZÃ¼rich wÃ¤hlen", cat:0},
   {t:"Aus dem vorhandenen Budget die maximale Anzahl Eintritte kaufen", cat:1},
   {t:"Den Schulweg mit mÃ¶glichst wenig Zeitaufwand zurÃ¼cklegen", cat:0},
   {t:"Mit den vorhandenen Zutaten das bestmÃ¶gliche Abendessen kochen", cat:1},
   {t:"FÃ¼r die PrÃ¼fungsvorbereitung mÃ¶glichst wenig Zeit aufwenden und trotzdem bestehen", cat:0}
 ],
 explain:"Beim Minimalprinzip wird ein gegebenes Ziel mit mÃ¶glichst wenig Mitteln erreicht. Beim Maximalprinzip wird aus gegebenen Mitteln das Maximum herausgeholt."
},

{id:"h10", topic:"homo", type:"fill", diff:1, tax:"K1",
 q:"Die Grundlage des Ã¶konomischen Denkens ist die Tatsache der {0}. Menschen haben {1} BedÃ¼rfnisse, aber nur {2} Mittel zur VerfÃ¼gung.",
 blanks:[
   {answer:"Knappheit", alts:["Ressourcenknappheit"]},
   {answer:"unbegrenzte", alts:["unendliche","unbeschrÃ¤nkte"]},
   {answer:"begrenzte", alts:["beschrÃ¤nkte","knappe","limitierte"]}
 ],
 explain:"Knappheit ist der Ausgangspunkt allen Ã¶konomischen Denkens. Die Asymmetrie zwischen unbegrenzten Zielen/BedÃ¼rfnissen und begrenzten Mitteln (Geld, Zeit, Wissen) zwingt zu Entscheidungen mit Verzichtsfolgen."
},

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// KRITIK AM HOMO OECONOMICUS (k01â€“k08)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{id:"k01", topic:"kritik", type:"mc", diff:1, tax:"K1",
 q:"Welcher Ã–konom stellte fest, dass die RationalitÃ¤t des Menschen begrenzt ist, weil er nicht alle Informationen verarbeiten kann?",
 options:[
   {v:"A", t:"Adam Smith"},
   {v:"B", t:"Herbert Simon"},
   {v:"C", t:"Gary Becker"},
   {v:"D", t:"John Stuart Mill"}
 ],
 correct:"B",
 explain:"Herbert Simon (1957) prÃ¤gte den Begriff der Â«begrenzten RationalitÃ¤tÂ» (bounded rationality). Er stellte fest, dass Menschen nicht in der Lage sind, alle Informationen zu jedem Thema zu verarbeiten, und daher ihre RationalitÃ¤t begrenzt ist."
},

{id:"k02", topic:"kritik", type:"tf", diff:1, tax:"K2",
 q:"Die VerhaltensÃ¶konomie bestÃ¤tigt, dass Menschen sich im Alltag stets rational und eigennÃ¼tzig verhalten.",
 correct:false,
 explain:"Falsch. Die VerhaltensÃ¶konomie zeigt gerade das Gegenteil: Menschen handeln oft voreilig, unlogisch, impulsiv, emotional, kurzsichtig oder gleichgÃ¼ltig. Sie werden nicht nur von Eigennutz getrieben und handeln hÃ¤ufig irrational."
},

{id:"k03", topic:"kritik", type:"mc", diff:2, tax:"K2",
 q:"Welcher der folgenden Kritikpunkte am Homo Oeconomicus ist korrekt formuliert?",
 options:[
   {v:"A", t:"Menschen treffen immer rationale Entscheidungen, wenn sie genug Zeit haben."},
   {v:"B", t:"Das Modell kann individuelles Verhalten nicht erklÃ¤ren, da es auf Durchschnittsverhalten abstrahiert."},
   {v:"C", t:"Der Homo Oeconomicus geht davon aus, dass Menschen nur an Geld interessiert sind."},
   {v:"D", t:"Das Modell wurde seit Adam Smith nicht mehr weiterentwickelt."}
 ],
 correct:"B",
 explain:"Der Homo Oeconomicus ist bewusst unrealistisch und erklÃ¤rt kein Individualverhalten, sondern Durchschnittsverhalten. Er ist nicht auf Geld beschrÃ¤nkt â€“ der Nutzen ist eine subjektive GrÃ¶sse. Das Modell wird laufend weiterentwickelt (z.B. durch die VerhaltensÃ¶konomie)."
},

{id:"k04", topic:"kritik", type:"tf", diff:2, tax:"K2",
 q:"Ein wesentlicher Kritikpunkt am Homo Oeconomicus ist, dass soziale Faktoren wie Vertrauen, SolidaritÃ¤t und Gerechtigkeit im Modell keine Rolle spielen.",
 correct:true,
 explain:"Richtig. In der Grundversion des Modells werden soziale Orientierungen nicht berÃ¼cksichtigt. Die Ã–konomie bemÃ¼ht sich aber, das Menschenbild zu erweitern: Vertrauen, SolidaritÃ¤t und Gerechtigkeitsempfinden beeinflussen z.B. die Arbeitsmoral und damit wirtschaftliche Ergebnisse."
},

{id:"k05", topic:"kritik", type:"mc", diff:2, tax:"K3",
 q:"Jemand kauft wider besseres Wissen ein ungesundes StÃ¼ck Kuchen, um ein momentanes HungergefÃ¼hl zu befriedigen. Dies ist ein Beispiel fÃ¼r:",
 options:[
   {v:"A", t:"Rationales Verhalten, weil der Kuchen gÃ¼nstiger war als eine gesunde Alternative."},
   {v:"B", t:"Den Konflikt zwischen kurzfristigen und langfristigen Zielen, der das Modell des Homo Oeconomicus schwÃ¤cht."},
   {v:"C", t:"Nutzenmaximierung, weil der Kuchen im Moment den grÃ¶ssten Nutzen stiftet."},
   {v:"D", t:"EigennÃ¼tziges Handeln im klassischen Sinn."}
 ],
 correct:"B",
 explain:"Dieses Beispiel zeigt eine SchwÃ¤che des Homo-Oeconomicus-Modells: Wenn kurzfristige und langfristige Ziele im Widerstreit liegen, handeln Menschen oft impulsiv und nicht rational. Ein streng rationaler Homo Oeconomicus wÃ¼rde die langfristigen Gesundheitskosten berÃ¼cksichtigen."
},

{id:"k06", topic:"kritik", type:"sort", diff:2, tax:"K2",
 q:"Ordnen Sie die Aussagen dem Homo Oeconomicus oder der Kritik am Modell zu:",
 categories:["Homo Oeconomicus","Kritik am Modell"],
 items:[
   {t:"Menschen wÃ¤gen Kosten und Nutzen rational ab", cat:0},
   {t:"Menschen entscheiden oft aus dem BauchgefÃ¼hl", cat:1},
   {t:"Menschen orientieren sich an ihren eigenen Interessen", cat:0},
   {t:"Soziale Normen beeinflussen Entscheidungen stark", cat:1},
   {t:"Der Nutzen ist eine subjektive GrÃ¶sse", cat:0},
   {t:"Niemand kann alle relevanten Informationen verarbeiten", cat:1}
 ],
 explain:"Der Homo Oeconomicus geht von rationaler Kosten-Nutzen-AbwÃ¤gung und Eigeninteresse aus. Die Kritiker betonen, dass Menschen oft irrational handeln, von Emotionen und sozialen Normen geleitet werden und nur begrenzt rational sein kÃ¶nnen."
},

{id:"k07", topic:"kritik", type:"tf", diff:3, tax:"K5",
 q:"Das Modell des Homo Oeconomicus ist trotz aller Kritik nÃ¼tzlich, weil es als vereinfachte Arbeitshypothese hilft, wirtschaftliche ZusammenhÃ¤nge zu erklÃ¤ren und Prognosen zu erstellen.",
 correct:true,
 explain:"Richtig. Obwohl das Modell unrealistisch ist, hat es als Arbeitshypothese weiterhin einen hohen ErklÃ¤rungswert â€“ besonders fÃ¼r das Verhalten von Unternehmen (Gewinnmaximierung) und fÃ¼r Durchschnittsverhalten. Auch die Kritiker verwerfen es nicht vollstÃ¤ndig, sondern erweitern es."
},

{id:"k08", topic:"kritik", type:"mc", diff:3, tax:"K4",
 q:"Warum wurde das Homo-Oeconomicus-Modell nach der Finanzkrise 2008 besonders stark kritisiert?",
 options:[
   {v:"A", t:"Weil die Krise zeigte, dass Banken keine Gewinne maximieren."},
   {v:"B", t:"Weil kaum ein Ã–konom die Krise vorhergesehen hatte, was auf ein unzureichendes Menschenbild hindeutete."},
   {v:"C", t:"Weil die Krise durch zu rationales Verhalten der Anleger verursacht wurde."},
   {v:"D", t:"Weil das Modell erstmals von Gary Becker hinterfragt wurde."}
 ],
 correct:"B",
 explain:"Die Kritiker argumentierten, dass die VWL zu lange von einem unrealistischen Menschenbild ausgegangen sei. Irrationale Aspekte wie Herdenverhalten, Panik und Gier hatten die Krise mitverursacht â€“ Faktoren, die der klassische Homo Oeconomicus nicht abbildet."
},

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ANREIZE UND IHRE WIRKUNG (a01â€“a07)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{id:"a01", topic:"anreize", type:"mc", diff:1, tax:"K1",
 q:"Was versteht man unter einem Â«NudgeÂ» im Kontext der VerhaltensÃ¶konomie?",
 options:[
   {v:"A", t:"Eine gesetzliche Vorschrift, die bestimmtes Verhalten erzwingt."},
   {v:"B", t:"Eine psychologisch subtile Methode, um Verhalten zu steuern, ohne etwas zu verbieten."},
   {v:"C", t:"Eine finanzielle Strafe fÃ¼r unerwÃ¼nschtes Verhalten."},
   {v:"D", t:"Ein wirtschaftlicher Anreiz in Form von Subventionen."}
 ],
 correct:"B",
 explain:"Ein Nudge (Â«StupserÂ») ist eine psychologisch subtile Methode, die das Verhalten von Menschen in eine bestimmte Richtung lenkt, ohne etwas zu verbieten oder finanzielle Anreize zu setzen. Beispiel: GrÃ¼ne FussabdrÃ¼cke auf dem BÃ¼rgersteig, die zu MÃ¼lleimern fÃ¼hren."
},

{id:"a02", topic:"anreize", type:"tf", diff:1, tax:"K2",
 q:"Wenn eine Regierung die Widerspruchsregelung bei der Organspende einfÃ¼hrt, ist dies ein Beispiel fÃ¼r Nudging.",
 correct:true,
 explain:"Richtig. Statt einer ZustimmungslÃ¶sung (opt-in) wird eine Widerspruchsregelung (opt-out) eingefÃ¼hrt: Wer seine Organe nicht spenden will, muss sich aktiv registrieren. Die Standardoption wird verÃ¤ndert, ohne etwas zu verbieten â€“ ein klassischer Nudge."
},

{id:"a03", topic:"anreize", type:"mc", diff:2, tax:"K2",
 q:"Was beschreibt der Â«Kobra-EffektÂ»?",
 options:[
   {v:"A", t:"Dass Anreize immer zum gewÃ¼nschten Ergebnis fÃ¼hren."},
   {v:"B", t:"Dass gut gemeinte Massnahmen unerwartete, kontraproduktive Nebenwirkungen haben kÃ¶nnen."},
   {v:"C", t:"Dass Menschen auf negative Anreize stÃ¤rker reagieren als auf positive."},
   {v:"D", t:"Dass Schlangen in der Wirtschaft als Symbol fÃ¼r Gefahr verwendet werden."}
 ],
 correct:"B",
 explain:"Der Kobra-Effekt beschreibt eine Situation, in der eine Massnahme das Gegenteil des Beabsichtigten bewirkt. In Indien setzte die Kolonialverwaltung eine PrÃ¤mie pro Kobra-Kopf aus â€“ die Inder zÃ¼chteten daraufhin Kobras, um die PrÃ¤mie zu kassieren."
},

{id:"a04", topic:"anreize", type:"tf", diff:2, tax:"K3",
 q:"Die EinfÃ¼hrung von KehrichtsackgebÃ¼hren fÃ¼hrte ausschliesslich zu einer Reduktion der Abfallmenge.",
 correct:false,
 explain:"Falsch. Zwar nahm die Anzahl SÃ¤cke ab, aber das Gewicht pro Sack nahm zu. Zudem vermehrten sich wilde Deponien, und es kam zu Abfalltransporten in Nachbargemeinden. Dies zeigt, dass Anreizsysteme oft unerwÃ¼nschte Nebenwirkungen haben."
},

{id:"a05", topic:"anreize", type:"mc", diff:3, tax:"K3",
 q:"Eine Schule fÃ¼hrt ein System ein, bei dem SchÃ¼lerinnen und SchÃ¼ler fÃ¼r jedes gelesene Buch CHF 5 erhalten. Welche unerwÃ¼nschte Nebenwirkung ist am wahrscheinlichsten?",
 options:[
   {v:"A", t:"Die SuS lesen gar keine BÃ¼cher mehr."},
   {v:"B", t:"Die SuS lesen nur noch mÃ¶glichst kurze und einfache BÃ¼cher, um schnell Geld zu verdienen."},
   {v:"C", t:"Die SuS beginnen, BÃ¼cher zu kaufen statt auszuleihen."},
   {v:"D", t:"Die SuS lesen ausschliesslich anspruchsvolle Klassiker."}
 ],
 correct:"B",
 explain:"Wenn der Anreiz pro Buch gesetzt wird, maximieren rational handelnde SuS ihren Gewinn, indem sie mÃ¶glichst viele einfache BÃ¼cher wÃ¤hlen. Die intrinsische Motivation (Freude am Lesen) wird durch den extrinsischen Anreiz (Geld) verdrÃ¤ngt, und die QualitÃ¤t des Lesens sinkt."
},

{id:"a06", topic:"anreize", type:"sort", diff:2, tax:"K2",
 q:"Ordnen Sie die Beispiele der Art des Anreizes zu:",
 categories:["Nudge (subtiler Anstoss)","Regulierung (Vorschrift/Verbot)","Finanzieller Anreiz"],
 items:[
   {t:"GrÃ¼ne FussabdrÃ¼cke zu MÃ¼lleimern", cat:0},
   {t:"Rauchverbot in Restaurants", cat:1},
   {t:"KehrichtsackgebÃ¼hr", cat:2},
   {t:"Organspende als Standardoption", cat:0},
   {t:"COâ‚‚-Abgabe auf Brennstoffe", cat:2},
   {t:"Tempolimit auf Autobahnen", cat:1}
 ],
 explain:"Nudges verÃ¤ndern die Entscheidungsarchitektur, ohne etwas zu verbieten. Regulierungen setzen verbindliche Regeln. Finanzielle Anreize machen erwÃ¼nschtes Verhalten billiger oder unerwÃ¼nschtes teurer."
},

{id:"a07", topic:"anreize", type:"tf", diff:3, tax:"K5",
 q:"Eine Politik, die den Menschen als einfache Reiz-Reaktions-Maschine auffasst, ist zum Scheitern verurteilt.",
 correct:true,
 explain:"Richtig. Menschen reagieren zwar auf Anreize, aber ihre HandlungsmÃ¶glichkeiten sind vielfÃ¤ltig und kreativ. Regulatorische Eingriffe haben oft unerwÃ¼nschte Nebenfolgen (Kobra-Effekt, SchwarzmÃ¤rkte, wilde Deponien). Effektive Politik muss die KomplexitÃ¤t menschlichen Verhaltens berÃ¼cksichtigen."
},

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SPIELTHEORIE & GEFANGENENDILEMMA (s01â€“s10)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{id:"s01", topic:"spiel", type:"mc", diff:1, tax:"K1",
 q:"Was untersucht die Spieltheorie?",
 options:[
   {v:"A", t:"Die Regeln von Gesellschaftsspielen und deren Fairness."},
   {v:"B", t:"Menschliches Verhalten in strategischen Situationen, in denen das Ergebnis vom Verhalten anderer abhÃ¤ngt."},
   {v:"C", t:"Die optimale Strategie beim Pokern und Schach."},
   {v:"D", t:"Die Auswirkungen von Computerspielen auf die Wirtschaft."}
 ],
 correct:"B",
 explain:"Die Spieltheorie befasst sich mit der Analyse menschlichen Verhaltens in strategischen Situationen. Als Â«strategischÂ» wird eine Lage bezeichnet, in der jeder bei der Entscheidung Ã¼ber sein eigenes Verhalten berÃ¼cksichtigen muss, wie andere wohl darauf reagieren."
},

{id:"s02", topic:"spiel", type:"fill", diff:1, tax:"K1",
 q:"Im Gefangenendilemma hat jeder Beteiligte eine {0} Strategie: Nicht zu {1}. Obwohl {2} fÃ¼r alle das beste Ergebnis wÃ¤re.",
 blanks:[
   {answer:"dominante", alts:["dominierande"]},
   {answer:"kooperieren", alts:["Kooperation"]},
   {answer:"Kooperation", alts:["kooperieren","gegenseitige Kooperation","zusammenarbeiten"]}
 ],
 explain:"Im Gefangenendilemma ist Nicht-Kooperieren die dominante Strategie: Sie schneidet unabhÃ¤ngig vom Verhalten des anderen immer besser ab. Das Dilemma besteht darin, dass Kooperation fÃ¼r alle das bessere Ergebnis liefern wÃ¼rde."
},

{id:"s03", topic:"spiel", type:"tf", diff:1, tax:"K2",
 q:"Im Gefangenendilemma kommt es zu einem Dilemma, weil sich die Beteiligten irrational verhalten.",
 correct:false,
 explain:"Falsch. Das Dilemma entsteht gerade, weil sich die Beteiligten individuell rational verhalten. Aus individueller Sicht ist es vernÃ¼nftig, nicht zu kooperieren â€“ das fÃ¼hrt aber zu einem schlechteren Gesamtergebnis. Das Dilemma liegt also nicht in der IrrationalitÃ¤t, sondern in der Struktur der Situation."
},

{id:"s04", topic:"spiel", type:"mc", diff:2, tax:"K2",
 q:"Im Couvert-Spiel: Ihr GegenÃ¼ber hat das Geld ins Couvert gesteckt. Welche Strategie maximiert Ihren individuellen Gewinn?",
 options:[
   {v:"A", t:"Auch das Geld ins Couvert stecken â€“ dann erhalten Sie 2."},
   {v:"B", t:"Das Geld behalten â€“ dann erhalten Sie 3."},
   {v:"C", t:"Es spielt keine Rolle, das Ergebnis ist gleich."},
   {v:"D", t:"Das Geld ins Couvert stecken â€“ dann erhalten Sie 3."}
 ],
 correct:"B",
 explain:"Wenn das GegenÃ¼ber kooperiert (Geld ins Couvert steckt), erhalten Sie total 3, wenn Sie nicht kooperieren (Geld behalten): Ihr eigenes Geld (1) plus das Geld aus dem vollen Couvert (2). Kooperieren Sie auch, erhalten Sie nur 2. Daher ist Nicht-Kooperieren die bessere Wahl."
},

{id:"s05", topic:"spiel", type:"mc", diff:2, tax:"K2",
 q:"Was versteht man unter einer Â«dominanten StrategieÂ» in der Spieltheorie?",
 options:[
   {v:"A", t:"Die Strategie, die am hÃ¤ufigsten gewÃ¤hlt wird."},
   {v:"B", t:"Die Strategie, die immer das beste Ergebnis liefert, unabhÃ¤ngig davon, was die anderen tun."},
   {v:"C", t:"Die Strategie, die den Gegner dominiert und zum Aufgeben zwingt."},
   {v:"D", t:"Die Strategie, die nur dann funktioniert, wenn alle sie wÃ¤hlen."}
 ],
 correct:"B",
 explain:"Eine dominante Strategie liefert aus individueller Perspektive immer das beste Ergebnis, egal wie sich die anderen Beteiligten verhalten. Im Gefangenendilemma ist Nicht-Kooperieren die dominante Strategie â€“ obwohl das Gesamtergebnis bei Kooperation besser wÃ¤re."
},

{id:"s06", topic:"spiel", type:"tf", diff:2, tax:"K2",
 q:"Im Gefangenendilemma hÃ¤ngt das Ergebnis nicht nur vom eigenen, sondern auch vom Verhalten der anderen Beteiligten ab.",
 correct:true,
 explain:"Richtig. Genau durch diese gegenseitige AbhÃ¤ngigkeit zeichnen sich strategische Situationen aus. Mein Ergebnis hÃ¤ngt nicht nur von meiner eigenen Entscheidung ab, sondern auch davon, was mein GegenÃ¼ber tut."
},

{id:"s07", topic:"spiel", type:"mc", diff:2, tax:"K3",
 q:"Zwei Einkaufszentren Ã¼berlegen, ob sie Â«vielÂ» oder Â«wenigÂ» fÃ¼r Werbung ausgeben. Beide wÃ¤ren am besten dran, wenn beide wenig werben. Warum wird trotzdem voraussichtlich viel geworben?",
 options:[
   {v:"A", t:"Weil Werbung gesetzlich vorgeschrieben ist."},
   {v:"B", t:"Weil jedes Einkaufszentrum einen Anreiz hat, mehr zu werben als das andere, um sich einen Vorteil zu verschaffen."},
   {v:"C", t:"Weil die Kunden explizit nach mehr Werbung verlangen."},
   {v:"D", t:"Weil die Einkaufszentren nicht miteinander kommunizieren dÃ¼rfen."}
 ],
 correct:"B",
 explain:"Dies ist ein Gefangenendilemma: Beide Einkaufszentren haben einen individuellen Anreiz, von der optimalen Vereinbarung (wenig Werbung) abzuweichen und mehr zu werben. Am Ende werben beide viel und fahren schlechter, als wenn beide wenig geworben hÃ¤tten."
},

{id:"s08", topic:"spiel", type:"sort", diff:2, tax:"K3",
 q:"Ordnen Sie die Beispiele zu: Handelt es sich um ein Gefangenendilemma oder nicht?",
 categories:["Gefangenendilemma","Kein Gefangenendilemma"],
 items:[
   {t:"Zwei LÃ¤nder rÃ¼sten Armeen auf, obwohl beide von AbrÃ¼stung profitieren wÃ¼rden", cat:0},
   {t:"Rennfahrer dopen, obwohl alle ohne Doping gleich gut fahren wÃ¼rden", cat:0},
   {t:"Ein Unternehmen senkt Preise, um Kunden von Konkurrenten abzuwerben", cat:0},
   {t:"Eine Person wÃ¤hlt im Supermarkt zwischen Ã„pfeln und Birnen", cat:1},
   {t:"Zwei SchÃ¼ler arbeiten unabhÃ¤ngig an einer EinzelprÃ¼fung", cat:1}
 ],
 explain:"Ein Gefangenendilemma liegt vor, wenn: (1) die Beteiligten voneinander abhÃ¤ngig sind, (2) Kooperation fÃ¼r alle besser wÃ¤re, aber (3) jeder einen individuellen Anreiz hat, nicht zu kooperieren. Einkaufsentscheide oder unabhÃ¤ngige PrÃ¼fungen sind keine strategischen Situationen."
},

{id:"s09", topic:"spiel", type:"mc", diff:3, tax:"K4",
 q:"Die Mafia-OmertÃ  verÃ¤ndert die Auszahlungsstruktur im Gefangenendilemma. Warum kann dies rationale Verbrecher dazu bringen, zu kooperieren (zu schweigen)?",
 options:[
   {v:"A", t:"Weil die OmertÃ  das Vertrauen zwischen den Verbrechern stÃ¤rkt."},
   {v:"B", t:"Weil die Morddrohung die Kosten des Verrats so stark erhÃ¶ht, dass Schweigen zur dominanten Strategie wird."},
   {v:"C", t:"Weil die Mafia ihre Mitglieder von der Polizei fernhÃ¤lt."},
   {v:"D", t:"Weil die OmertÃ  die Haftstrafe fÃ¼r beide verkÃ¼rzt."}
 ],
 correct:"B",
 explain:"Die OmertÃ  fÃ¼gt dem Verrat eine drastische Konsequenz hinzu: die Ermordung. Dadurch wird Verraten in jedem Fall unattraktiver als Schweigen. Die Angst vor der Ermordung verÃ¤ndert die Anreizstruktur so, dass Kooperation (Schweigen) zur besseren Strategie wird â€“ vorausgesetzt, die Drohung ist glaubwÃ¼rdig."
},

{id:"s10", topic:"spiel", type:"tf", diff:3, tax:"K4",
 q:"Doping im Radsport lÃ¤sst sich mit dem Gefangenendilemma erklÃ¤ren: Obwohl niemand vom Doping profitiert (da alle dopen), ist es fÃ¼r jeden einzelnen Fahrer rational zu dopen.",
 correct:true,
 explain:"Richtig. Wenn die Konkurrenten dopen, muss man auch dopen, um konkurrenzfÃ¤hig zu bleiben. Wenn die Konkurrenten nicht dopen, bringt Doping einen Vorteil. In beiden FÃ¤llen ist Dopen individuell rational â€“ obwohl es zum Schaden aller ist, wenn alle dopen."
},

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ERFOLGREICHE STRATEGIEN (e01â€“e06)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{id:"e01", topic:"strategie", type:"mc", diff:1, tax:"K1",
 q:"Welche Strategie gilt in iterierten (wiederholten) Gefangenendilemma-Spielen als besonders erfolgreich?",
 options:[
   {v:"A", t:"Immer kooperieren, egal was der andere tut."},
   {v:"B", t:"Immer defektieren (nicht kooperieren)."},
   {v:"C", t:"Tit-for-Tat: Im ersten Zug kooperieren, danach das Verhalten des GegenÃ¼bers imitieren."},
   {v:"D", t:"ZufÃ¤llig zwischen Kooperation und Defektion wechseln."}
 ],
 correct:"C",
 explain:"Tit-for-Tat (Wie du mir, so ich dir) erwies sich in Computerturnieren als Ã¼berlegene Strategie. Sie startet kooperativ und ahmt danach das Verhalten des GegenÃ¼bers nach: Kooperation wird mit Kooperation beantwortet, Defektion mit Defektion."
},

{id:"e02", topic:"strategie", type:"fill", diff:1, tax:"K1",
 q:"Erfolgreiche Strategien in wiederholten Spielen sind: {0} (beginnen kooperativ), {1} (reagieren auf Defektion), {2} (verzeihen nach Bestrafung) und {3} (das Verhalten ist vorhersehbar).",
 blanks:[
   {answer:"nett", alts:["freundlich","kooperativ"]},
   {answer:"vergeltend", alts:["provozierbar","bestrafend","retaliatory"]},
   {answer:"verzeihend", alts:["nachsichtig","groÃŸzÃ¼gig"]},
   {answer:"klar", alts:["vorhersehbar","transparent","berechenbar"]}
 ],
 explain:"Die vier Eigenschaften erfolgreicher Strategien (nach Robert Axelrod): (1) Nett â€“ sie beginnen mit Kooperation. (2) Vergeltend â€“ sie bestrafen Defektion. (3) Verzeihend â€“ sie kehren zur Kooperation zurÃ¼ck, wenn der andere kooperiert. (4) Klar â€“ ihr Verhalten ist fÃ¼r den anderen nachvollziehbar."
},

{id:"e03", topic:"strategie", type:"tf", diff:2, tax:"K2",
 q:"In einem einmaligen Gefangenendilemma (ohne Wiederholung) ist Kooperation die individuell rationale Strategie.",
 correct:false,
 explain:"Falsch. In einem einmaligen Spiel ist Defektion (Nicht-Kooperieren) die dominante Strategie. Erst bei wiederholten Spielen wird Kooperation attraktiver, weil langfristige Konsequenzen das Verhalten beeinflussen (z.B. Vergeltung oder Vertrauensaufbau)."
},

{id:"e04", topic:"strategie", type:"mc", diff:2, tax:"K2",
 q:"Warum fÃ¶rdert die Wiederholung eines Gefangenendilemmas die Kooperation?",
 options:[
   {v:"A", t:"Weil man in wiederholten Spielen mehr Punkte bekommt."},
   {v:"B", t:"Weil man in zukÃ¼nftigen Runden vom GegenÃ¼ber bestraft werden kann und langfristige Kooperation attraktiver wird."},
   {v:"C", t:"Weil man nach ein paar Runden die Regeln besser versteht."},
   {v:"D", t:"Weil die Auszahlungen sich in jeder Runde erhÃ¶hen."}
 ],
 correct:"B",
 explain:"Bei wiederholten Spielen hat unkooperatives Verhalten langfristige Konsequenzen: Die Gegenpartei wird sich wahrscheinlich in Zukunft ebenfalls unkooperativ verhalten (Vergeltung). Langfristig ist beidseitige Kooperation daher attraktiver als kurzfristige Gewinnmaximierung durch Defektion."
},

{id:"e05", topic:"strategie", type:"sort", diff:2, tax:"K2",
 q:"Ordnen Sie die Mechanismen zu: Welche fÃ¶rdern Kooperation im Gefangenendilemma, welche nicht?",
 categories:["FÃ¶rdert Kooperation","FÃ¶rdert Kooperation nicht"],
 items:[
   {t:"Kommunikation zwischen den Beteiligten", cat:0},
   {t:"Sanktionen fÃ¼r unkooperatives Verhalten", cat:0},
   {t:"Wiederholte Interaktionen (repetitive Spiele)", cat:0},
   {t:"AnonymitÃ¤t der Beteiligten", cat:1},
   {t:"Einmaligkeit der Situation (nur ein Spiel)", cat:1},
   {t:"Fehlende Durchsetzung von Abmachungen", cat:1}
 ],
 explain:"Kooperation wird gefÃ¶rdert durch Kommunikation (ermÃ¶glicht Absprachen), Sanktionen (machen Defektion teurer) und Wiederholung (langfristige Konsequenzen). AnonymitÃ¤t, Einmaligkeit und fehlende Durchsetzung begÃ¼nstigen dagegen Defektion."
},

{id:"e06", topic:"strategie", type:"tf", diff:3, tax:"K5",
 q:"Die Strategie Â«immer kooperierenÂ» ist in wiederholten Spielen erfolgreicher als Tit-for-Tat, weil sie nie Konflikte auslÃ¶st.",
 correct:false,
 explain:"Falsch. Â«Immer kooperierenÂ» ist keine erfolgreiche Strategie, weil sie von defektierenden Gegnern ausgebeutet wird. Tit-for-Tat ist erfolgreicher, weil es zwar nett beginnt, aber Defektion bestraft. Nur so wird verhindert, dass Kooperation ausgenutzt wird."
},

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AUFGABEN DER VWL (v01â€“v05)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{id:"v01", topic:"aufgaben", type:"mc", diff:1, tax:"K1",
 q:"Welche der folgenden Aufgaben gehÃ¶rt NICHT zu den Aufgaben der Volkswirtschaftslehre?",
 options:[
   {v:"A", t:"Wirtschaftliche VorgÃ¤nge beschreiben"},
   {v:"B", t:"Wirtschaftliche VorgÃ¤nge erklÃ¤ren"},
   {v:"C", t:"Unternehmen bei der Buchhaltung unterstÃ¼tzen"},
   {v:"D", t:"Die wirtschaftliche Entwicklung prognostizieren"}
 ],
 correct:"C",
 explain:"Die vier Aufgaben der VWL sind: Beschreiben (Was passiert?), ErklÃ¤ren (Warum passiert es?), Prognostizieren (Was wird passieren?) und Beeinflussen (Wie kÃ¶nnen wir die Entwicklung in eine gewÃ¼nschte Richtung lenken?). Buchhaltung ist eine betriebswirtschaftliche Aufgabe."
},

{id:"v02", topic:"aufgaben", type:"sort", diff:1, tax:"K2",
 q:"Ordnen Sie die Fragen der jeweiligen Aufgabe der VWL zu:",
 categories:["Beschreiben","ErklÃ¤ren","Prognostizieren","Beeinflussen"],
 items:[
   {t:"Wie hoch ist die aktuelle Arbeitslosenquote?", cat:0},
   {t:"Warum steigt die Inflation?", cat:1},
   {t:"Wie wird sich das BIP nÃ¤chstes Jahr entwickeln?", cat:2},
   {t:"Sollte der Mindestlohn erhÃ¶ht werden?", cat:3},
   {t:"Die Hypothekarzinsen sind gesunken.", cat:0},
   {t:"Weshalb verlagern Firmen ihre Produktion ins Ausland?", cat:1}
 ],
 explain:"Beschreiben = Fakten darstellen. ErklÃ¤ren = Ursachen und ZusammenhÃ¤nge aufzeigen. Prognostizieren = zukÃ¼nftige Entwicklungen abschÃ¤tzen. Beeinflussen = wirtschaftspolitische Massnahmen vorschlagen."
},

{id:"v03", topic:"aufgaben", type:"tf", diff:2, tax:"K2",
 q:"Die Volkswirtschaftslehre beschrÃ¤nkt sich darauf, wirtschaftliche VorgÃ¤nge zu beschreiben und zu erklÃ¤ren â€“ sie macht keine Prognosen und keine Handlungsempfehlungen.",
 correct:false,
 explain:"Falsch. Die VWL hat vier Aufgaben: Beschreiben, ErklÃ¤ren, Prognostizieren UND Beeinflussen. Gerade die Beeinflussung (Wirtschaftspolitik) ist zentral: Die VWL soll Erkenntnisse liefern, um die wirtschaftliche Entwicklung in Richtung bestimmter Ziele zu lenken."
},

{id:"v04", topic:"aufgaben", type:"mc", diff:2, tax:"K3",
 q:"Die Meldung Â«Die Computerpreise fallenÂ» ist ein Beispiel fÃ¼r welche Aufgabe der VWL?",
 options:[
   {v:"A", t:"Beschreiben â€“ sie stellt einen wirtschaftlichen Vorgang dar."},
   {v:"B", t:"ErklÃ¤ren â€“ sie nennt die GrÃ¼nde fÃ¼r den PreisrÃ¼ckgang."},
   {v:"C", t:"Prognostizieren â€“ sie sagt die zukÃ¼nftige Preisentwicklung voraus."},
   {v:"D", t:"Beeinflussen â€“ sie empfiehlt eine wirtschaftspolitische Massnahme."}
 ],
 correct:"A",
 explain:"Die Meldung beschreibt lediglich einen wirtschaftlichen Vorgang (sinkende Preise). FÃ¼r eine ErklÃ¤rung mÃ¼ssten die Ursachen genannt werden (z.B. technischer Fortschritt, globaler Wettbewerb). Erst dann kÃ¶nnte man prognostizieren oder Massnahmen ableiten."
},

{id:"v05", topic:"aufgaben", type:"fill", diff:1, tax:"K1",
 q:"Die VWL hat vier Aufgaben: wirtschaftliche VorgÃ¤nge {0}, {1}, {2} und zielgerichtet {3}.",
 blanks:[
   {answer:"beschreiben", alts:["Beschreiben"]},
   {answer:"erklÃ¤ren", alts:["ErklÃ¤ren"]},
   {answer:"prognostizieren", alts:["Prognostizieren","vorhersagen","voraussagen"]},
   {answer:"beeinflussen", alts:["Beeinflussen","steuern","lenken"]}
 ],
 explain:"Die vier Aufgaben der Volkswirtschaftslehre bilden eine logische Kette: Zuerst muss man wirtschaftliche PhÃ¤nomene beschreiben, dann erklÃ¤ren (Ursachen verstehen), darauf aufbauend prognostizieren und schliesslich mit wirtschaftspolitischen Massnahmen beeinflussen."
},

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ZIELE DER WIRTSCHAFTSPOLITIK (z01â€“z07)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

{id:"z01", topic:"ziele", type:"mc", diff:1, tax:"K1",
 q:"Welches der folgenden Ziele gehÃ¶rt NICHT zum magischen Sechseck der Wirtschaftspolitik?",
 options:[
   {v:"A", t:"VollbeschÃ¤ftigung"},
   {v:"B", t:"PreisstabilitÃ¤t"},
   {v:"C", t:"Gewinnmaximierung"},
   {v:"D", t:"UmweltqualitÃ¤t"}
 ],
 correct:"C",
 explain:"Das magische Sechseck umfasst: VollbeschÃ¤ftigung, PreisstabilitÃ¤t, Wirtschaftswachstum, aussenwirtschaftliches Gleichgewicht, sozialer Ausgleich (gerechte Verteilung) und UmweltqualitÃ¤t. Gewinnmaximierung ist ein betriebswirtschaftliches, kein wirtschaftspolitisches Ziel."
},

{id:"z02", topic:"ziele", type:"fill", diff:1, tax:"K1",
 q:"Die sechs Ziele des magischen Sechsecks sind: {0}, PreisstabilitÃ¤t, {1}, aussenwirtschaftliches Gleichgewicht, {2} und UmweltqualitÃ¤t.",
 blanks:[
   {answer:"VollbeschÃ¤ftigung", alts:["BeschÃ¤ftigung","hohe BeschÃ¤ftigung"]},
   {answer:"Wirtschaftswachstum", alts:["Wachstum"]},
   {answer:"sozialer Ausgleich", alts:["gerechte Verteilung","Verteilungsgerechtigkeit","gerechte Einkommensverteilung"]}
 ],
 explain:"Das magische Sechseck besteht aus sechs wirtschaftspolitischen Zielen, die ursprÃ¼nglich als Dreieck (VollbeschÃ¤ftigung, PreisstabilitÃ¤t, aussenwirtschaftliches Gleichgewicht) begannen und schrittweise erweitert wurden."
},

{id:"z03", topic:"ziele", type:"mc", diff:2, tax:"K2",
 q:"Warum werden die Ziele der Wirtschaftspolitik als Â«magischÂ» bezeichnet?",
 options:[
   {v:"A", t:"Weil sie unerreichbar sind und nur in der Theorie existieren."},
   {v:"B", t:"Weil es schwierig ist, alle Ziele gleichzeitig zu erreichen â€“ sie stehen teilweise in Konkurrenz zueinander."},
   {v:"C", t:"Weil sie auf magischem Denken der ersten Ã–konomen basieren."},
   {v:"D", t:"Weil sie nur von besonders talentierten Politikern erreicht werden kÃ¶nnen."}
 ],
 correct:"B",
 explain:"Das Vieleck heisst Â«magischÂ», weil die gleichzeitige Erreichung aller Ziele sehr schwierig ist. Es bestehen Zielkonflikte (z.B. PreisstabilitÃ¤t vs. VollbeschÃ¤ftigung) und Trade-offs, die politische PrioritÃ¤tensetzung erfordern."
},

{id:"z04", topic:"ziele", type:"sort", diff:2, tax:"K2",
 q:"Ordnen Sie die Beispiele der passenden Zielbeziehung zu:",
 categories:["Zielharmonie","Zielkonkurrenz","ZielneutralitÃ¤t"],
 items:[
   {t:"Wirtschaftswachstum fÃ¶rdert VollbeschÃ¤ftigung", cat:0},
   {t:"PreisstabilitÃ¤t und VollbeschÃ¤ftigung stehen kurzfristig im Widerspruch", cat:1},
   {t:"PreisstabilitÃ¤t hat keinen direkten Einfluss auf die UmweltqualitÃ¤t", cat:2},
   {t:"Sozialer Ausgleich kann das Wirtschaftswachstum hemmen", cat:1}
 ],
 explain:"Zielharmonie: Ein Ziel fÃ¶rdert das andere. Zielkonkurrenz: Ziele behindern sich gegenseitig. ZielneutralitÃ¤t: Ziele beeinflussen sich nicht direkt. Die Beziehungen kÃ¶nnen sich je nach Zeitraum und Situation Ã¤ndern."
},

{id:"z05", topic:"ziele", type:"tf", diff:2, tax:"K2",
 q:"Ein Trade-off in der Wirtschaftspolitik bedeutet, dass man auf ein Ziel vollstÃ¤ndig verzichten muss, um ein anderes zu erreichen.",
 correct:false,
 explain:"Falsch. Ein Trade-off bedeutet nicht Â«alles oder nichtsÂ», sondern eine Austauschbeziehung: Ein Â«bisschen wenigerÂ» von einem Ziel ermÃ¶glicht ein Â«bisschen mehrÂ» von einem anderen. Z.B. etwas weniger PreisstabilitÃ¤t fÃ¼r etwas weniger Arbeitslosigkeit."
},

{id:"z06", topic:"ziele", type:"mc", diff:3, tax:"K4",
 q:"Ein Land mit hoher Arbeitslosigkeit erhÃ¶ht die Staatsausgaben massiv, um ArbeitsplÃ¤tze zu schaffen. Welche Zielkonkurrenz droht am ehesten?",
 options:[
   {v:"A", t:"VollbeschÃ¤ftigung vs. UmweltqualitÃ¤t"},
   {v:"B", t:"VollbeschÃ¤ftigung vs. PreisstabilitÃ¤t (Inflationsgefahr durch steigende Nachfrage)"},
   {v:"C", t:"Wirtschaftswachstum vs. sozialer Ausgleich"},
   {v:"D", t:"Aussenwirtschaftliches Gleichgewicht vs. UmweltqualitÃ¤t"}
 ],
 correct:"B",
 explain:"Massive Staatsausgaben erhÃ¶hen die Nachfrage und kÃ¶nnen ArbeitsplÃ¤tze schaffen (Ziel: VollbeschÃ¤ftigung). Gleichzeitig droht aber Inflation, wenn die Nachfrage schneller wÃ¤chst als das Angebot (Zielkonkurrenz mit PreisstabilitÃ¤t). Dies ist der klassische Trade-off der Wirtschaftspolitik."
},

{id:"z07", topic:"ziele", type:"tf", diff:3, tax:"K5",
 q:"Wirtschaftswachstum und UmweltqualitÃ¤t stehen immer und zwingend in Zielkonkurrenz zueinander.",
 correct:false,
 explain:"Falsch. Die Beziehung ist nicht eindeutig. Einerseits kann Wachstum Umweltbelastung verursachen (Zielkonkurrenz). Andererseits kann Wachstum auch nÃ¶tig sein, um in Umweltschutztechnologien zu investieren (mÃ¶gliche Zielharmonie). Die Zielbeziehung hÃ¤ngt von der Art des Wachstums ab."
}

];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// AB HIER: IDENTISCHER CODE FÃœR ALLE POOLS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

const DIFF_LABELS = {1:"Einfach",2:"Mittel",3:"Schwer"};
const TYPE_LABELS = {mc:"Multiple Choice",tf:"Richtig/Falsch",fill:"LÃ¼ckentext",calc:"Berechnung",sort:"Zuordnung"};

let mode="", selectedTopics=new Set(), selectedDiffs=new Set(), selectedTypes=new Set();
let pool=[], current=0, score=0, answered=false, results=[];

function init(){
  const tc=document.getElementById("topicChips");
  Object.entries(TOPICS).forEach(([k,v])=>{
    const c=document.createElement("div");c.className="chip";c.dataset.key=k;c.textContent=v.short;
    c.onclick=()=>toggleChip(c,selectedTopics,k);tc.appendChild(c);
  });
  const dc=document.getElementById("diffChips");
  [1,2,3].forEach(d=>{
    const c=document.createElement("div");c.className="chip";c.dataset.key=d;c.textContent=DIFF_LABELS[d];
    c.onclick=()=>toggleChip(c,selectedDiffs,d);dc.appendChild(c);
  });
  const yc=document.getElementById("typeChips");
  const usedTypes=[...new Set(QUESTIONS.map(q=>q.type))];
  usedTypes.forEach(t=>{
    const c=document.createElement("div");c.className="chip";c.dataset.key=t;c.textContent=TYPE_LABELS[t];
    c.onclick=()=>toggleChip(c,selectedTypes,t);yc.appendChild(c);
  });
  updateCount();
}

function toggleChip(el,set,key){
  if(set.has(key)){set.delete(key);el.classList.remove("active")}
  else{set.add(key);el.classList.add("active")}
  updateCount();
}

function setMode(m){
  mode=m;
  document.querySelectorAll(".mode-card").forEach(c=>c.classList.toggle("active",c.dataset.mode===m));
  if(m==="mix"){
    document.querySelectorAll("#topicChips .chip").forEach(c=>{c.classList.add("active");selectedTopics.add(c.dataset.key)});
    document.querySelectorAll("#diffChips .chip").forEach(c=>{c.classList.add("active");selectedDiffs.add(+c.dataset.key)});
    document.querySelectorAll("#typeChips .chip").forEach(c=>{c.classList.add("active");selectedTypes.add(c.dataset.key)});
  } else {
    [selectedTopics,selectedDiffs,selectedTypes].forEach(s=>s.clear());
    document.querySelectorAll(".chip").forEach(c=>c.classList.remove("active"));
    document.querySelectorAll("#typeChips .chip").forEach(c=>{c.classList.add("active");selectedTypes.add(c.dataset.key)});
  }
  updateCount();
}

function getFiltered(){
  return QUESTIONS.filter(q=>
    (selectedTopics.size===0||selectedTopics.has(q.topic))&&
    (selectedDiffs.size===0||selectedDiffs.has(q.diff))&&
    (selectedTypes.size===0||selectedTypes.has(q.type))
  );
}

function updateCount(){
  const n=getFiltered().length;
  document.getElementById("filterCount").textContent=n+" Aufgabe"+(n!==1?"n":"")+" verfÃ¼gbar";
  document.getElementById("startBtn").disabled=n===0;
}

function startQuiz(){
  pool=getFiltered();
  if(mode==="mix") pool.sort(()=>Math.random()-.5);
  else pool.sort((a,b)=>a.diff-b.diff);
  current=0;score=0;results=[];answered=false;
  showScreen("quizScreen");
  renderQuestion();
}

function showScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  window.scrollTo({top:0,behavior:"smooth"});
}

function renderQuestion(){
  const q=pool[current];
  document.getElementById("qProgress")=(current+1)+" / "+pool.length;
  document.getElementById("qScore").textContent=score+" Punkt"+(score!==1?"e":"");
  document.getElementById("progressBar").style.width=((current)/pool.length*100)+"%";
  document.getElementById("nextBtn").style.display="none";
  answered=false;

  const card=document.getElementById("questionCard");
  let html=`<div class="q-badges">
    <span class="badge badge-topic">${TOPICS[q.topic].short}</span>
    <span class="badge badge-diff${q.diff}">${DIFF_LABELS[q.diff]}</span>
    <span class="badge badge-tax">${q.tax}</span>
    <span class="badge badge-type">${TYPE_LABELS[q.type]}</span>
  </div>
  <div class="q-text">${q.q}</div>`;

  if(q.type==="mc"){
    html+=`<div class="mc-options">`;
    q.options.forEach(o=>{
      html+=`<div class="mc-opt" data-val="${o.v}" onclick="selectMC(this,'${q.id}')">
        <div class="opt-letter">${o.v}</div><div class="opt-text">${o.t}</div></div>`;
    });
    html+=`</div>`;
  } else if(q.type==="tf"){
    html+=`<div class="tf-btns">
      <div class="tf-btn" data-val="true" onclick="selectTF(this,'${q.id}')">âœ… Richtig</div>
      <div class="tf-btn" data-val="false" onclick="selectTF(this,'${q.id}')">âŒ Falsch</div>
    </div>`;
  } else if(q.type==="fill"){
    let parts=q.q.split(/\{(\d+)\}/);
    html=`<div class="q-badges">
      <span class="badge badge-topic">${TOPICS[q.topic].short}</span>
      <span class="badge badge-diff${q.diff}">${DIFF_LABELS[q.diff]}</span>
      <span class="badge badge-tax">${q.tax}</span>
      <span class="badge badge-type">${TYPE_LABELS[q.type]}</span>
    </div><div class="q-text">`;
    parts.forEach((p,i)=>{
      if(i%2===0) html+=p;
      else html+=`<input type="text" class="fill-input" data-idx="${p}" autocomplete="off" spellcheck="false">`;
    });
    html+=`</div><button class="btn btn-primary" style="margin-top:8px" onclick="checkFill('${q.id}')">PrÃ¼fen</button>`;
  } else if(q.type==="calc"){
    html+=`<div class="calc-rows">`;
    q.rows.forEach((r,i)=>{
      html+=`<div class="calc-row"><label>${r.label}</label>
        <input type="number" step="any" data-idx="${i}" autocomplete="off">
        <span class="unit">${r.unit||""}</span></div>`;
    });
    html+=`</div><button class="btn btn-primary" style="margin-top:12px" onclick="checkCalc('${q.id}')">PrÃ¼fen</button>`;
  } else if(q.type==="sort"){
    const shuffled=[...q.items].sort(()=>Math.random()-.5);
    html+=`<div class="sort-pool" id="sortPool">`;
    shuffled.forEach((item,i)=>{
      html+=`<div class="sort-item" data-idx="${q.items.indexOf(item)}" onclick="pickItem(this)">${item.t}</div>`;
    });
    html+=`</div><div class="sort-cats" style="grid-template-columns:repeat(${q.categories.length},1fr)">`;
    q.categories.forEach((cat,i)=>{
      html+=`<div class="sort-cat" data-cat="${i}" onclick="placeToCat(this)">
        <div class="sort-cat-title">${cat}</div><div class="sort-cat-items"></div></div>`;
    });
    html+=`</div><button class="btn btn-primary" style="margin-top:12px" onclick="checkSort('${q.id}')">PrÃ¼fen</button>`;
  }

  html+=`<div class="feedback" id="feedback"></div>`;
  card.innerHTML=html;
}

// â”€â”€ MC â”€â”€
function selectMC(el,qid){
  if(answered) return;
  answered=true;
  const q=pool[current], val=el.dataset.val, ok=val===q.correct;
  if(ok) score++;
  results.push({q,ok,given:val});
  document.querySelectorAll(".mc-opt").forEach(o=>{
    o.style.pointerEvents="none";
    if(o.dataset.val===q.correct) o.classList.add("correct");
    else if(o===el&&!ok) o.classList.add("wrong");
  });
  showFeedback(ok,q.explain);
}

// â”€â”€ TF â”€â”€
function selectTF(el,qid){
  if(answered) return;
  answered=true;
  const q=pool[current], val=el.dataset.val==="true", ok=val===q.correct;
  if(ok) score++;
  results.push({q,ok,given:val});
  document.querySelectorAll(".tf-btn").forEach(b=>{
    b.style.pointerEvents="none";
    if((b.dataset.val==="true")===q.correct) b.classList.add("correct");
    else if(b===el&&!ok) b.classList.add("wrong");
  });
  showFeedback(ok,q.explain);
}

// â”€â”€ Fill â”€â”€
function checkFill(qid){
  if(answered) return;
  answered=true;
  const q=pool[current];
  let allOk=true;
  document.querySelectorAll(".fill-input").forEach(inp=>{
    const idx=+inp.dataset.idx, blank=q.blanks[idx];
    const userVal=inp.value.trim().toLowerCase();
    const correct=userVal===blank.answer.toLowerCase()||blank.alts.some(a=>a.toLowerCase()===userVal);
    inp.classList.add(correct?"correct":"wrong");
    if(!correct){allOk=false;inp.value=inp.value+" â†’ "+blank.answer;}
    inp.readOnly=true;
  });
  if(allOk) score++;
  results.push({q,ok:allOk,given:"(LÃ¼ckentext)"});
  showFeedback(allOk,q.explain);
}

// â”€â”€ Calc â”€â”€
function checkCalc(qid){
  if(answered) return;
  answered=true;
  const q=pool[current];
  let allOk=true;
  document.querySelectorAll(".calc-row input").forEach(inp=>{
    const idx=+inp.dataset.idx, row=q.rows[idx];
    const val=parseFloat(inp.value);
    const correct=!isNaN(val)&&Math.abs(val-row.answer)<=row.tolerance;
    inp.classList.add(correct?"correct":"wrong");
    if(!correct){allOk=false;inp.value=inp.value+" â†’ "+row.answer;}
    inp.readOnly=true;
  });
  if(allOk) score++;
  results.push({q,ok:allOk,given:"(Berechnung)"});
  showFeedback(allOk,q.explain);
}

// â”€â”€ Sort â”€â”€
let pickedItem=null;
function pickItem(el){
  if(answered) return;
  if(pickedItem===el){pickedItem.classList.remove("picked");pickedItem=null;return;}
  if(pickedItem) pickedItem.classList.remove("picked");
  pickedItem=el;el.classList.add("picked");
}
function placeToCat(catEl){
  if(answered||!pickedItem) return;
  const items=catEl.querySelector(".sort-cat-items");
  const chip=document.createElement("div");
  chip.className="sort-cat-item";chip.textContent=pickedItem.textContent;
  chip.dataset.idx=pickedItem.dataset.idx;
  chip.onclick=function(){
    const pool=document.getElementById("sortPool");
    const orig=document.createElement("div");
    orig.className="sort-item";orig.textContent=this.textContent;
    orig.dataset.idx=this.dataset.idx;orig.onclick=function(){pickItem(this)};
    pool.appendChild(orig);this.remove();
  };
  items.appendChild(chip);
  pickedItem.remove();pickedItem=null;
}

function checkSort(qid){
  if(answered) return;
  answered=true;
  const q=pool[current];
  let allOk=true;
  document.querySelectorAll(".sort-cat").forEach(catEl=>{
    const catIdx=+catEl.dataset.cat;
    catEl.querySelectorAll(".sort-cat-item").forEach(chip=>{
      const itemIdx=+chip.dataset.idx;
      const correct=q.items[itemIdx].cat===catIdx;
      chip.classList.add(correct?"correct-item":"wrong-item");
      if(!correct) allOk=false;
    });
  });
  // Show unplaced items as wrong
  document.querySelectorAll("#sortPool .sort-item").forEach(item=>{
    item.style.opacity=".5";allOk=false;
  });
  if(allOk) score++;
  results.push({q,ok:allOk,given:"(Zuordnung)"});
  showFeedback(allOk,q.explain);
}

function showFeedback(ok,explain){
  const fb=document.getElementById("feedback");
  fb.className="feedback show "+(ok?"correct":"wrong");
  fb.innerHTML=`<div class="feedback-title">${ok?"âœ… Richtig!":"âŒ Leider falsch."}</div>${explain}`;
  document.getElementById("nextBtn").style.display="inline-flex";
  document.getElementById("questionCard").querySelectorAll("button.btn-primary").forEach(b=>b.style.display="none");
}

function nextQuestion(){
  current++;
  if(current>=pool.length) endQuiz();
  else renderQuestion();
}

function endQuiz(){
  showScreen("resultScreen");
  const total=results.length;
  document.getElementById("resPts").textContent=score+"/"+total;
  document.getElementById("resPct").textContent=total?Math.round(score/total*100)+"%":"0%";

  // Topic breakdown
  const byTopic={};
  results.forEach(r=>{
    if(!byTopic[r.q.topic]) byTopic[r.q.topic]={ok:0,total:0};
    byTopic[r.q.topic].total++;
    if(r.ok) byTopic[r.q.topic].ok++;
  });
  const tr=document.getElementById("topicResults");tr.innerHTML="";
  Object.entries(byTopic).forEach(([t,d])=>{
    const pct=Math.round(d.ok/d.total*100);
    const cls=pct>=70?"tg":pct>=40?"ty":"tr";
    tr.innerHTML+=`<div class="topic-row">
      <span class="topic-name">${TOPICS[t].label}</span>
      <span class="topic-score">${d.ok}/${d.total}</span>
      <div class="topic-bar"><div class="topic-bar-fill ${cls}" style="width:${pct}%"></div></div>
    </div>`;
  });

  // Wrong questions
  const wl=document.getElementById("wrongList");wl.innerHTML="";
  const wrongs=results.filter(r=>!r.ok);
  if(wrongs.length===0) document.getElementById("wrongCard").style.display="none";
  else{
    document.getElementById("wrongCard").style.display="block";
    wrongs.forEach(r=>{
      wl.innerHTML+=`<div class="wrong-item"><div class="wq">${r.q.q.replace(/\{\d+\}/g,"___")}</div><div class="wa">${r.q.explain}</div></div>`;
    });
  }
}

function exportResults(){window.print();}

function resetApp(){
  mode="";selectedTopics.clear();selectedDiffs.clear();selectedTypes.clear();
  pool=[];current=0;score=0;results=[];answered=false;pickedItem=null;
  document.querySelectorAll(".chip").forEach(c=>c.classList.remove("active"));
  document.querySelectorAll(".mode-card").forEach(c=>c.classList.remove("active"));
  showScreen("startScreen");
  updateCount();
}

init();
</script>
</body>
</html>
