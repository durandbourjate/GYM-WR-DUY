<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ãœbungspools | Wirtschaft und Recht | Gymnasium Hofwil</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=DM+Mono:wght@400;500&display=swap');
:root{
  --c-bg:#f0f2f5;--c-surface:#fff;--c-text:#1e293b;--c-text-soft:#64748b;
  --c-border:#e2e8f0;--radius:10px;
  --c-vwl:#f89907;--c-vwl-light:#ffb74d;--c-vwl-bg:#fff8eb;
  --c-bwl:#01a9f4;--c-bwl-light:#4fc3f7;--c-bwl-bg:#e8f7fe;
  --c-recht:#73ab2c;--c-recht-light:#8bc34a;--c-recht-bg:#f1f8e8;
  --shadow-sm:0 1px 3px rgba(0,0,0,.06);
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'DM Sans',system-ui,sans-serif;background:var(--c-bg);color:var(--c-text);line-height:1.6;min-height:100vh}
.header{background:linear-gradient(135deg,#1e293b,#334155);color:#fff;padding:28px 24px;text-align:center;display:flex;align-items:center;gap:16px}
.header h1{font-size:1.5rem;font-weight:700;letter-spacing:-.02em}
.header .sub{font-size:.85rem;opacity:.7;margin-top:4px}
.container{max-width:800px;margin:0 auto;padding:24px 16px 80px}

/* â”€â”€ Fachbereich-Sektionen (klappbar) â”€â”€ */
.fach-section{margin-bottom:20px;border-radius:var(--radius);overflow:hidden;background:var(--c-surface);box-shadow:var(--shadow-sm);border:1px solid var(--c-border)}
.fach-header{display:flex;align-items:center;gap:12px;padding:16px 20px;cursor:pointer;user-select:none;transition:background .15s}
.fach-header:hover{background:color-mix(in srgb,var(--c-bg) 50%,transparent)}
.fach-header .fach-dot{width:14px;height:14px;border-radius:50%;flex-shrink:0}
.fach-header h2{font-size:1.1rem;font-weight:700}
.fach-header .fach-info{display:flex;align-items:center;gap:10px;margin-left:auto;flex-shrink:0}
.fach-header .fach-count{font-size:.78rem;color:var(--c-text-soft);font-weight:500}
.fach-header .fach-questions{font-family:'DM Mono',monospace;font-size:.72rem;font-weight:600;padding:3px 9px;border-radius:10px;background:var(--c-bg);color:var(--c-text-soft)}
.fach-header .chevron{width:20px;height:20px;display:flex;align-items:center;justify-content:center;color:var(--c-text-soft);transition:transform .25s ease;flex-shrink:0}
.fach-section.open .chevron{transform:rotate(180deg)}

/* Klappbarer Inhalt */
.fach-body{overflow:hidden;transition:max-height .3s ease,opacity .25s ease;max-height:0;opacity:0}
.fach-section.open .fach-body{opacity:1}
.fach-body-inner{padding:0 20px 20px}

/* Farbige Oberkante je Fachbereich */
.fach-section.fach-vwl{border-top:3px solid var(--c-vwl)}
.fach-section.fach-bwl{border-top:3px solid var(--c-bwl)}
.fach-section.fach-recht{border-top:3px solid var(--c-recht)}

/* Pool-Karten */
.pool-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
.pool-card{background:var(--c-surface);border:1px solid var(--c-border);border-radius:var(--radius);padding:16px;text-decoration:none;color:var(--c-text);transition:.2s;display:flex;flex-direction:column;box-shadow:var(--shadow-sm)}
.pool-card:hover{transform:translateY(-2px);box-shadow:0 4px 16px rgba(0,0,0,.1)}
.pool-card .pool-title{font-weight:700;font-size:.92rem;margin-bottom:5px}
.pool-card .pool-meta{font-size:.76rem;color:var(--c-text-soft);margin-bottom:8px}
.pool-card .pool-stats{display:flex;gap:6px;flex-wrap:wrap}
.pool-card .stat{font-size:.68rem;font-weight:600;padding:3px 8px;border-radius:10px;background:var(--c-bg)}
.pool-card.vwl{border-left:4px solid var(--c-vwl)}
.pool-card.vwl:hover{border-color:var(--c-vwl);background:var(--c-vwl-bg)}
.pool-card.bwl{border-left:4px solid var(--c-bwl)}
.pool-card.bwl:hover{border-color:var(--c-bwl);background:var(--c-bwl-bg)}
.pool-card.recht{border-left:4px solid var(--c-recht)}
.pool-card.recht:hover{border-color:var(--c-recht);background:var(--c-recht-bg)}
.empty-msg{font-size:.88rem;color:var(--c-text-soft);font-style:italic;padding:4px 0}
.footer{text-align:center;padding:20px;font-size:.75rem;color:var(--c-text-soft)}

/* â”€â”€ Dark Mode â”€â”€ */
html.dark{--c-bg:#0f1117;--c-surface:#1a1d27;--c-text:#e2e8f0;--c-text-soft:#94a3b8;--c-border:#2d3348;
  --c-vwl-bg:#2a1f0a;--c-bwl-bg:#0a1f2a;--c-recht-bg:#1a2a0a}
html.dark .header{background:linear-gradient(135deg,#0f1117,#1a1d27)}
html.dark .pool-card .stat,html.dark .fach-header .fach-questions{background:var(--c-border)}
html.dark .fach-header:hover{background:color-mix(in srgb,var(--c-border) 40%,transparent)}
/* â”€â”€ Theme Toggle â”€â”€ */
.theme-toggle{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px;background:rgba(255,255,255,.15);border:none;color:#fff;font-size:1.15rem;cursor:pointer;flex-shrink:0;transition:.15s;padding:0;line-height:1}
.theme-toggle:hover{background:rgba(255,255,255,.3)}
@media(max-width:500px){
  .pool-grid{grid-template-columns:1fr}
  .container{padding:16px 12px 60px}
  .fach-header{padding:14px 16px}
  .fach-body-inner{padding:0 16px 16px}
}
</style>
<script>
(function(){
  var saved=localStorage.getItem('pool-theme');
  var isDark=saved==='dark'||(saved===null&&window.matchMedia('(prefers-color-scheme:dark)').matches);
  if(isDark)document.documentElement.classList.add('dark');
})();
</script>
</head>
<body>

<div class="header">
<div style="flex:1"></div>
<div>
<h1>ğŸ“š Ãœbungspools</h1>
<div class="sub">Wirtschaft und Recht Â· Gymnasium Hofwil</div>
</div>
<div style="flex:1;display:flex;justify-content:flex-end">
<button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" title="Light/Dark Mode wechseln" aria-label="Farbmodus wechseln">ğŸŒ™</button>
</div>
</div>

<div class="container" id="content">
<div style="text-align:center;padding:40px;color:var(--c-text-soft)">Wird geladenâ€¦</div>
</div>

<div class="footer">Gymnasium Hofwil Â· Wirtschaft und Recht</div>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// THEME TOGGLE â€” Light/Dark Mode
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function toggleTheme(){
  var html=document.documentElement;
  var isDark=html.classList.toggle('dark');
  localStorage.setItem('pool-theme',isDark?'dark':'light');
  updateThemeIcon();
}
function updateThemeIcon(){
  var btn=document.getElementById('themeToggle');
  if(btn)btn.textContent=document.documentElement.classList.contains('dark')?'â˜€ï¸':'ğŸŒ™';
}
updateThemeIcon();
window.matchMedia('(prefers-color-scheme:dark)').addEventListener('change',function(e){
  if(localStorage.getItem('pool-theme'))return;
  document.documentElement.classList.toggle('dark',e.matches);
  updateThemeIcon();
});

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// POOL REGISTRY
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Add new pools here. The index page reads this to display all available pools.
const POOLS = [
  {
    id: "vwl_beduerfnisse",
    fach: "VWL",
    title: "BedÃ¼rfnisse, Knappheit & Produktionsfaktoren",
    meta: "SF GYM1",
    questions: 50,
    topics: 7
  },
  {
    id: "vwl_menschenbild",
    fach: "VWL",
    title: "Ã–konomisches Menschenbild",
    meta: "SF GYM1",
    questions: 49,
    topics: 7
  },
  {
    id: "vwl_bip",
    fach: "VWL",
    title: "Bruttoinlandprodukt (BIP)",
    meta: "EWR GYM2",
    questions: 60,
    topics: 7
  },
  {
    id: "vwl_wachstum",
    fach: "VWL",
    title: "Wirtschaftswachstum â€“ TriebkrÃ¤fte und Effekte",
    meta: "SF GYM1â€“GYM4",
    questions: 55,
    topics: 6
  },
  {
    id: "vwl_steuern",
    fach: "VWL",
    title: "Steuern und Staatseinnahmen",
    meta: "SF GYM3",
    questions: 60,
    topics: 6
  },
  {
    id: "vwl_arbeitslosigkeit",
    fach: "VWL",
    title: "Arbeitslosigkeit & Armut",
    meta: "SF GYM3",
    questions: 50,
    topics: 7
  },
  {
    id: "vwl_staatsverschuldung",
    fach: "VWL",
    title: "Staatsverschuldung",
    meta: "SF GYM3",
    questions: 65,
    topics: 7
  },
  {
    id: "vwl_sozialpolitik",
    fach: "VWL",
    title: "Sozialpolitik und Sozialversicherungen",
    meta: "SF GYM3",
    questions: 50,
    topics: 7
  },
  {
    id: "vwl_markteffizienz",
    fach: "VWL",
    title: "Markteffizienz",
    meta: "SF GYM2/GYM3",
    questions: 160,
    topics: 13
  },
  // â”€â”€ BWL (noch leer) â”€â”€
  // {
  //   id: "bwl_beispiel",
  //   fach: "BWL",
  //   title: "Beispielpool",
  //   meta: "SF GYM1",
  //   questions: 0,
  //   topics: 0
  // },
  // â”€â”€ Recht (noch leer) â”€â”€
  // {
  //   id: "recht_beispiel",
  //   fach: "Recht",
  //   title: "Beispielpool",
  //   meta: "SF GYM2",
  //   questions: 0,
  //   topics: 0
  // },
];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// RENDER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const FACH_ORDER = ["VWL", "BWL", "Recht"];
const FACH_COLORS = { VWL: "vwl", BWL: "bwl", Recht: "recht" };
const FACH_DOT_COLORS = { VWL: "#f89907", BWL: "#01a9f4", Recht: "#73ab2c" };
const CHEVRON_SVG = '<svg width="20" height="20" viewBox="0 0 20 20" fill="none"><path d="M5 7.5L10 12.5L15 7.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';

function render() {
  const container = document.getElementById('content');
  let html = '';

  FACH_ORDER.forEach(fach => {
    const pools = POOLS.filter(p => p.fach === fach);
    const colorClass = FACH_COLORS[fach];
    const dotColor = FACH_DOT_COLORS[fach];
    const totalQ = pools.reduce((s, p) => s + p.questions, 0);
    // Fachbereiche mit Pools: offen. Leere: eingeklappt.
    const isOpen = pools.length > 0;

    html += '<div class="fach-section fach-' + colorClass + (isOpen ? ' open' : '') + '">';

    // â”€â”€ Klickbarer Header â”€â”€
    html += '<div class="fach-header" onclick="toggleSection(this)">';
    html += '<div class="fach-dot" style="background:' + dotColor + '"></div>';
    html += '<h2>' + fach + '</h2>';
    html += '<div class="fach-info">';
    html += '<span class="fach-count">' + pools.length + ' Pool' + (pools.length !== 1 ? 's' : '') + '</span>';
    if (totalQ > 0) {
      html += '<span class="fach-questions">' + totalQ + ' Fragen</span>';
    }
    html += '</div>';
    html += '<div class="chevron">' + CHEVRON_SVG + '</div>';
    html += '</div>';

    // â”€â”€ Klappbarer Inhalt â”€â”€
    html += '<div class="fach-body"><div class="fach-body-inner">';
    if (pools.length === 0) {
      html += '<div class="empty-msg">Noch keine Ãœbungspools vorhanden.</div>';
    } else {
      html += '<div class="pool-grid">';
      pools.forEach(p => {
        html += '<a class="pool-card ' + colorClass + '" href="pool.html?pool=' + p.id + '">';
        html += '<div class="pool-title">' + p.title + '</div>';
        html += '<div class="pool-meta">' + p.meta + '</div>';
        html += '<div class="pool-stats">';
        html += '<span class="stat">' + p.questions + ' Fragen</span>';
        html += '<span class="stat">' + p.topics + ' Themen</span>';
        html += '</div>';
        html += '</a>';
      });
      html += '</div>';
    }
    html += '</div></div>';
    html += '</div>';
  });

  container.innerHTML = html;

  // Initiale HÃ¶he fÃ¼r offene Sektionen setzen
  document.querySelectorAll('.fach-section.open .fach-body').forEach(body => {
    body.style.maxHeight = body.scrollHeight + 'px';
  });
}

function toggleSection(headerEl) {
  const section = headerEl.closest('.fach-section');
  const body = section.querySelector('.fach-body');

  if (section.classList.contains('open')) {
    // Zuklappen: erst aktuelle HÃ¶he fixieren, dann auf 0
    body.style.maxHeight = body.scrollHeight + 'px';
    requestAnimationFrame(() => {
      body.style.maxHeight = '0';
      body.style.opacity = '0';
    });
    section.classList.remove('open');
  } else {
    // Aufklappen
    section.classList.add('open');
    body.style.maxHeight = body.scrollHeight + 'px';
    body.style.opacity = '1';
    // Nach der Animation: maxHeight entfernen (damit Inhalt dynamisch wachsen kann)
    body.addEventListener('transitionend', function handler() {
      if (section.classList.contains('open')) {
        body.style.maxHeight = 'none';
      }
      body.removeEventListener('transitionend', handler);
    });
  }
}

render();
</script>
</body>
</html>
